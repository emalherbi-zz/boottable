"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Object.keys||(Object.keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}),function(a){a.Table||(a.Table={}),a.Table.boot=function(b,c,d,e){var f=this;f.$el=a(b),f.el=b,f.$el.data("Table.boot",f),f.initialize=function(){return("undefined"==typeof c||null===c)&&(c=""),("undefined"==typeof d||null===d)&&(d=""),f.header=c,f.values=d,f.options=a.extend({},a.Table.boot.defaultOptions,e),!0},f.init=function(){return f.clr(),f.msg(),f.$el.css("cursor","pointer"),!0},f.clr=function(){return a("#"+f.$el.attr("id")+" tbody tr").remove(),!0},f.msg=function(){var b=a("#"+f.$el.attr("id")+" thead tr th").length;return f.$el.append('<tr class="boottable-init" ><td colspan="'+b+'" ></td></tr>'),!0},f.startLoader=function(){f.clr();var a=f.$el.find("thead").find("tr").find("th").length;f.$el.append('<tr><td colspan="'+a+'" ></td></tr>');var b='<div class="boottable-load-panel" ><div class="boottable-load-label" ></div></div>';return f.$el.find("tbody tr td").html(b),!0},f.endLoader=function(){return!0};var g=function(a,b){return a=String(a),a.length<b?g("0"+a,b):a};f.getItensCount=function(){return g(f.$el.find("tbody tr").length,f.options.zerosLeft)},f.add=function(){var b=[];a.each(f.header,function(a,c){b.push(a+"='"+c+"'")});var c=b.join(" "),d="";return d+="<tr "+c+" >",a.each(f.values,function(a,b){d+="<td>"+b+"</td>"}),d+="</tr>",f.$el.append(d),f.$el.show("fast"),!0},f.addAll=function(){var b="";if(f.clr(),0===f.header.length)f.msg();else{var c=f.getColumns(),d=f.getColumnsField();a.each(f.header,function(e,g){var h=[];a.each(g,function(a,b){h.push(a+"='"+b+"'")});var i=h.join(" "),j="";j+="<tr "+i+" >";var k=f.values[e],l=0;"addAllJson"==f.options.method||"allJson"==f.options.method||"json"==f.options.method?a.each(d,function(a,b){j+="<td data-label='"+c[l]+"' >"+k[b]+"</td>",l++}):a.each(k,function(a,b){j+="<td data-label='"+c[l]+"' >"+b+"</td>",l++}),j+="</tr>",b+=j}),f.$el.append(b)}return f.$el.show("fast"),!0},f.getColumns=function(){return a("#"+f.$el.attr("id")+" thead tr th").map(function(){return a(this).text()})},f.getColumnsField=function(){return a("#"+f.$el.attr("id")+" thead tr th").map(function(){return a(this).attr("field")})},f.getRows=function(b){var c=f.getColumnsField(),d=a("#"+f.$el.attr("id")+" tbody tr:nth-child("+(b+1)+")").map(function(b){var d={};return a(this).find("td").each(function(b){var e=a(this).find("input").val();"undefined"==typeof e&&(e=a(this).find("textarea").val(),"undefined"==typeof e&&(e=a(this).find("label").text(),e.trim()||(e=a(this).text()))),"undefined"!=typeof c[b]&&(d[c[b]]=e)}),d}).get();return d},f.getSelectedItem=function(){var a=!1,b=f.$el.find("tbody tr.selected").index();return a=f.getRows(b),a[0]},f.getItens=function(){var a=f.$el.find("tbody tr").map(function(a){return f.getRows(a)}).get();return a},f.calculateColumn=function(){var b=0;return f.$el.find("tbody tr > td:nth-child("+f.options.column+")").each(function(c,d){var e=null;if(e=a(d).find("input").length>0?a(d).find("input").val():a(d).find("span").length>0?a(d).find("span").text():d.innerHTML,e=e.replace("$","").replace("R$",""),isNaN(e)){var f=e.lastIndexOf("."),g=e.lastIndexOf(","),h=e.charAt(f);g>f&&(h=e.charAt(g)),b+="."===h?Number(e.replace(/,/g,"")):Number(e.replace(/\./g,"").replace(",","."))}else b+=Number(e)}),b},f.calculateColumnByField=function(){var b=f.getColumnsField(),c=-1;return a.each(b,function(a,b){f.options.columnByField===b&&(c=a+1)}),-1!==c?(f.options.column=c,f.calculateColumn()):0},f.edit=function(){var b=!1,c=Object.keys(f.header),d=f.header[c];return f.$el.find("tbody tr").each(function(e,g){var h=a(g).attr(c.toString().toLowerCase());h==d&&(b=f.getRows(e))}),b[0]},f["delete"]=function(){var b=!1,c=Object.keys(f.header),d=f.header[c];return f.$el.find("tbody tr").each(function(e,f){var g=a(f).attr(c.toString().toLowerCase());g==d&&(a(f).attr("delete","true"),a(f).hide("slow"),b=!0)}),b},f.sel=function(){return a("#"+f.$el.attr("id")).delegate("tbody tr","click",function(b){a(b.currentTarget).parent().children().removeClass("selected"),a(b.currentTarget).addClass("selected"),f.$el=a(b.delegateTarget),f.el=b.delegateTarget,a(b.delegateTarget).trigger("BOOTTABLE_EVENT_CLICK_ROW",[f.getSelectedItem()])}),a("#"+f.$el.attr("id")).off("keydown").on("keydown",function(b){var c=Number(a(b.delegateTarget).find("tbody tr.selected").index()),d=c+1;f.$el=a(b.delegateTarget),f.el=b.delegateTarget,b.altKey===!0&&40===b.keyCode&&(a(b.delegateTarget).find("tbody tr.selected").removeClass("selected"),0===Number(a(b.delegateTarget).find("tbody tr:nth-child("+(d+1)+")").length)?a(b.delegateTarget).find("tbody tr:nth-child(1)").addClass("selected"):a(b.delegateTarget).find("tbody tr:nth-child("+(d+1)+")").addClass("selected"),a(b.delegateTarget).trigger("BOOTTABLE_EVENT_DOWN_ROW",[f.getSelectedItem()])),b.altKey===!0&&38===b.keyCode&&(a(b.delegateTarget).find("tbody tr.selected").removeClass("selected"),0===Number(a(b.delegateTarget).find("tbody tr:nth-child("+(d-1)+")").length)?a(b.delegateTarget).find("tbody tr:nth-child(1)").addClass("selected"):a(b.delegateTarget).find("tbody tr:nth-child("+(d-1)+")").addClass("selected"),a(b.delegateTarget).trigger("BOOTTABLE_EVENT_UP_ROW",[f.getSelectedItem()])),b.altKey===!0&&13===b.keyCode&&a(b.delegateTarget).trigger("BOOTTABLE_EVENT_ENTER_ROW",[f.getSelectedItem()])}),!0},f.filter=function(){var b="";return b+='<div class="boottable-filter input-group" style="margin-bottom: 5px;" > <span class="input-group-addon glyphicon glyphicon-search "></span>',b+='<input id="filter-'+f.$el.attr("id")+'" type="text" class="boottable-filter-placeholder form-control" placeholder=" " >',b+="</div>",0===a("#filter-"+f.$el.attr("id")).length&&(f.$el.find("tbody").addClass("searchable"),f.$el.parent().prepend(b),a("#filter-"+f.$el.attr("id")).keyup(function(b){var c=a(b.delegateTarget),d=c.attr("id").replace("filter-",""),e=new RegExp(a(this).val(),"i");a("#"+d+" .searchable tr").hide(),a("#"+d+" .searchable tr").filter(function(){return e.test(a(this).text())}).show()})),!0},f.fixHeadFoot=function(){function b(){g.wrap('<div class="boottable-container" />'),e=g.clone(),e.attr("id",e.attr("id")+"-fixed"),e.find("tbody").remove().end().addClass("boottable-fixed").insertBefore(g),c()}function c(){e.find("th").each(function(b){a(this).css("width",g.find("th").eq(b).outerWidth()+"px")})}function d(){var b=a(this).scrollTop(),c=g.offset().top,d=c+g.height()-g.find("thead").height();c>b||b>d?(g.find("tfoot").css("display","table-footer-group"),e.hide()):b>=c&&d>=b&&e.is(":hidden")&&(g.find("tfoot").css("display","none"),e.show())}var e=null,g=f.$el;a(window).resize(c),a(window).scroll(d),b()},f.fixHead=function(){function b(){g.wrap('<div class="boottable-container" />'),e=g.clone(),e.attr("id",e.attr("id")+"-fixed"),e.find("tbody").remove().end().find("tfoot").remove().end().addClass("boottable-fixed").insertBefore(g),c()}function c(){e.find("th").each(function(b){a(this).css("width",g.find("th").eq(b).outerWidth()+"px")})}function d(){var b=a(this).scrollTop(),c=g.offset().top,d=c+g.height()-g.find("thead").height();c>b||b>d?e.hide():b>=c&&d>=b&&e.is(":hidden")&&e.show()}var e=null,g=f.$el;a(window).resize(c),a(window).scroll(d),b()},f.initialize();var h=null;return"init"==f.options.method?h=f.init():"clr"==f.options.method||"clear"==f.options.method?h=f.clr():"msg"==f.options.method?h=f.msg():"loader"==f.options.method||"startloader"==f.options.method||"startLoader"==f.options.method?h=f.startLoader():"endloader"==f.options.method||"endLoader"==f.options.method?h=f.endLoader():"fixhead"==f.options.method||"fixHead"==f.options.method?h=f.fixHead():"fixheadfoot"==f.options.method||"fixHeadFoot"==f.options.method?h=f.fixHeadFoot():"add"==f.options.method?h=f.add():"addall"==f.options.method||"addAll"==f.options.method||"all"==f.options.method?h=f.addAll():"edt"==f.options.method||"edit"==f.options.method?h=f.edit():"del"==f.options.method||"delete"==f.options.method||"remove"==f.options.method?h=f["delete"]():"addAllJson"==f.options.method||"allJson"==f.options.method||"json"==f.options.method?(f.header=jQuery.parseJSON(f.header),f.values=jQuery.parseJSON(f.values),h=f.addAll()):"calculateColumn"==f.options.method||"calculatecolumn"==f.options.method?h=f.calculateColumn():"calculateColumnByField"==f.options.method||"calculatecolumnbyfield"==f.options.method?h=f.calculateColumnByField():("getItensCount"==f.options.method||"getitenscount"==f.options.method)&&(h=f.getItensCount()),f.options.selected===!0&&(h=f.sel()),f.options.getSelectedItem===!0&&(h=f.getSelectedItem()),f.options.getItens===!0&&(h=f.getItens()),f.options.filter===!0&&(h=f.filter()),h},a.Table.boot.defaultOptions={method:"",selected:!1,filter:!1,column:0,columnByField:"",zerosLeft:"4",getSelectedItem:!1,getItens:!1},a.fn.bootTable=function(b,c,d){var e=null;return this.each(function(){e=a.Table.boot(this,c,d,b)}),e},a.fn.bootTableJson=function(b){var c=null;return this.each(function(){c=a.Table.boot(this,b,b,{method:"addAllJson"})}),c},a.fn.getBootTable=function(){return this.data("Table.boot")},a.fn.calculateColumn=function(b){var c=null;return this.each(function(){c=a.Table.boot(this,null,null,{method:"calculateColumn",column:b})}),c},a.fn.calculateColumnByField=function(b){var c=null;return this.each(function(){c=a.Table.boot(this,null,null,{method:"calculateColumnByField",columnByField:b})}),c},a.fn.getSelectedItem=function(){var b=null;return this.each(function(){b=a.Table.boot(this,null,null,{getSelectedItem:!0})}),b},a.fn.getItens=function(){var b=null;return this.each(function(){b=a.Table.boot(this,null,null,{getItens:!0})}),b},a.fn.getItensCount=function(b){var c=null;return this.each(function(){c=a.Table.boot(this,null,null,{method:"getItensCount",zerosLeft:b})}),c}}(jQuery);