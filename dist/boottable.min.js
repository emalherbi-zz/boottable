"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Object.keys||(Object.keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}),function(a){a.Table||(a.Table={}),a.Table.boot=function(b,c,d,e,f){var g=this;g.$el=a(b),g.el=b,g.$el.data("Table.boot",g),g.initialize=function(){return("undefined"==typeof c||null===c)&&(c=""),("undefined"==typeof d||null===d)&&(d=""),("undefined"==typeof e||null===e)&&(e=""),g.header=c,g.values=d,g.details=e,g.options=a.extend({},a.Table.boot.defaultOptions,f),!0},g.init=function(){return g.clr(),g.msg(),g.$el.css("cursor","pointer"),!0},g.clr=function(){return a("#"+g.$el.attr("id")+" tbody tr").remove(),!0},g.msg=function(){var b=a("#"+g.$el.attr("id")+" thead tr th").length;return g.$el.append('<tr class="boottable-init" ><td colspan="'+b+'" ></td></tr>'),!0},g.startLoader=function(){var b='<div class="boottable-load-panel" ><div class="boottable-load-label" ></div></div>',c=a(window).scrollTop();g.clr();var d=g.$el.find("thead").find("tr").find("th").length;return g.$el.find("tbody").append('<tr><td colspan="'+d+'" >'+b+"</td></tr>"),a(window).scrollTop(c),!0},g.endLoader=function(){return!0};var h=function(a,b){return a=String(a),a.length<b?h("0"+a,b):a};g.getItensCount=function(){return h(g.$el.find("tbody tr").not(g.$el.find(".boottable-init")).length,g.options.params)},g.add=function(){var b=[];a.each(g.header,function(a,c){b.push(a+"='"+c+"'")});var c=b.join(" "),d="";return d+="<tr "+c+" >",a.each(g.values,function(a,b){d+="<td>"+b+"</td>"}),d+="</tr>",g.$el.append(d),g.$el.show("fast"),!0},g.addAll=function(){var b="";if(g.clr(),0===g.header.length)g.msg();else{var c=g.getColumns(),d=g.getColumnsField();a.each(g.header,function(e,f){var h=[];a.each(f,function(a,b){h.push(a+"='"+b+"'")});var i=h.join(" "),j="";j+="<tr "+i+" >";var k=g.values[e],l=0;if("addAllJson"==g.options.method||"allJson"==g.options.method||"json"==g.options.method?a.each(d,function(a,b){j+="<td data-label='"+c[l]+"' >"+k[b]+"</td>",l++}):a.each(k,function(a,b){j+="<td data-label='"+c[l]+"' >"+b+"</td>",l++}),j+="</tr>",b+=j,g.details.length>0){var m=g.details[e].COLUMNS,n=g.details[e].ITENS,o=a("#"+g.$el.attr("id")+" thead tr th").length,p=a("#"+g.$el.attr("id")).attr("class"),q="";q+="<tr id='"+g.$el.attr("id")+"-details-"+e+"' class='boottable-details-parent' ><td colspan='"+o+"'>",q+="<table class='"+p+" boottable-details' >",q+="<thead>",q+="<tr>",a.each(m,function(a,b){q+="<th>"+b+"</th>"}),q+="</tr>",q+="</thead>",q+="<tbody>",a.each(n,function(b,c){var d=c.HEADER,e=c.VALUES,f=[];a.each(d,function(a,b){f.push(a+"='"+b+"'")});var g=f.join(" "),h=0;q+="<tr "+g+" >",a.each(e,function(a,b){q+="<td data-label='"+m[h]+"'>"+b+"</td>",h++}),q+="</tr>"}),q+="</tbody>",q+="</table>",q+="</td></tr>",b+=q}}),g.$el.append(b)}g.$el.show("fast");var e=null,f=g.$el.attr("id").replace(/-/g,"");return e=JSON.parse(sessionStorage.getItem("bthidecolumnbyfield_"+f))||[],e.length>0&&(g.options.params="",g.hideColumnByField()),e=JSON.parse(sessionStorage.getItem("bthidecolumn_"+f))||[],e.length>0&&(g.options.params="",g.hideColumn()),!0},g.getColumns=function(){return a("#"+g.$el.attr("id")+" thead tr th").map(function(){return a(this).text()})},g.getColumnsField=function(){return a("#"+g.$el.attr("id")+" thead tr th").map(function(){return a(this).attr("field")})},g.getRows=function(b){var c=g.getColumnsField(),d=a("#"+g.$el.attr("id")+" tbody tr:nth-child("+(b+1)+")").map(function(b){var d={};return a(this).find("td").each(function(b){var e=a(this).find("input").val();"undefined"==typeof e&&(e=a(this).find("textarea").val(),"undefined"==typeof e&&(e=a(this).find("label").text(),e.trim()||(e=a(this).text()))),"undefined"!=typeof c[b]&&(d[c[b]]=e)}),d}).get();return d},g.getSelectedItem=function(){var a=!1,b=g.$el.find("tbody tr.selected").index();return a=g.getRows(b),a[0]},g.getItens=function(){var a=g.$el.find("tbody tr").map(function(a){return g.getRows(a)}).get();return a},g.getItensByColumn=function(){var b=[],c=g.options.params;return c=[].concat(c),a.each(c,function(a,c){var d=Object.keys(c),e=c[d];b=g.$el.find("tbody tr").map(function(a){var b=g.getRows(a),c=Object.keys(b[0]),f=c[d-1];return b[0][f]==e?b:void 0}).get()}),0===b.length?!1:b},g.getItensByField=function(){var b=[],c=g.options.params;return c=[].concat(c),a.each(c,function(a,c){var d=Object.keys(c),e=c[d];b=g.$el.find("tbody tr").map(function(a){var b=g.getRows(a);return b[0][d]==e?b:void 0}).get()}),0===b.length?!1:b},g.calculateColumn=function(){var b=0;return g.$el.find("tbody tr > td:nth-child("+g.options.params+")").each(function(c,d){var e=null;if(e=a(d).find("input").length>0?a(d).find("input").val():a(d).find("span").length>0?a(d).find("span").text():d.innerHTML,e=e.replace("$","").replace("R$",""),isNaN(e)){var f=e.lastIndexOf("."),g=e.lastIndexOf(","),h=e.charAt(f);g>f&&(h=e.charAt(g)),b+="."===h?Number(e.replace(/,/g,"")):Number(e.replace(/\./g,"").replace(",","."))}else b+=Number(e)}),b},g.calculateColumnByField=function(){var b=g.getColumnsField(),c=-1;return a.each(b,function(a,b){g.options.params===b&&(c=a+1)}),-1!==c?(g.options.params=c,g.calculateColumn()):0},g.hideColumn=function(){var a=g.$el.attr("id").replace(/-/g,""),b=g.options.params||JSON.parse(sessionStorage.getItem("bthidecolumn_"+a));b=[].concat(b);for(var c=0,d=b.length;d>c;c++)g.$el.find("thead tr th:nth-child("+b[c]+")").css("display","none"),g.$el.find("tbody tr td:nth-child("+b[c]+")").css("display","none");return sessionStorage.setItem("bthidecolumn_"+a,JSON.stringify(b)),!0},g.hideColumnByField=function(){var b=function(b,c){a.each(b,function(a,b){if(c===b){var d=a+1;g.$el.find("thead tr th:nth-child("+d+")").css("display","none"),g.$el.find("tbody tr td:nth-child("+d+")").css("display","none")}})},c=g.$el.attr("id").replace(/-/g,""),d=g.options.params||JSON.parse(sessionStorage.getItem("bthidecolumnbyfield_"+c));d=[].concat(d);for(var e=g.getColumnsField(),f=0,h=d.length;h>f;f++)b(e,d[f]);return sessionStorage.setItem("bthidecolumnbyfield_"+c,JSON.stringify(d)),!0},g.showColumn=function(){var a=g.options.params;a=[].concat(a);for(var b=0,c=a.length;c>b;b++)g.$el.find("thead tr th:nth-child("+a[b]+")").css("display","table-cell"),g.$el.find("tbody tr td:nth-child("+a[b]+")").css("display","table-cell");return!0},g.showColumnByField=function(){var b=function(b,c){a.each(b,function(a,b){if(c===b){var d=a+1;g.$el.find("thead tr th:nth-child("+d+")").css("display","table-cell"),g.$el.find("tbody tr td:nth-child("+d+")").css("display","table-cell")}})},c=g.options.params;c=[].concat(c);for(var d=g.getColumnsField(),e=0,f=c.length;f>e;e++)b(d,c[e]);return!0},g.showDetails=function(){var b=g.options.params;return""===b?a(".boottable-details-parent").show("fast"):a("#"+g.$el.attr("id")+"-details-"+b).show("fast"),!0},g.hideDetails=function(){var b=g.options.params;return""===b?a(".boottable-details-parent").hide("fast"):a("#"+g.$el.attr("id")+"-details-"+b).hide("fast"),!0},g.toggleDetails=function(){var b=g.options.params;return""===b?a(".boottable-details-parent").fadeToggle("show","linear"):a("#"+g.$el.attr("id")+"-details-"+b).fadeToggle("show","linear"),!0},g.edit=function(){var b=!1,c=Object.keys(g.header),d=g.header[c];return g.$el.find("tbody tr").each(function(e,f){var h=a(f).attr(c.toString().toLowerCase());h==d&&(b=g.getRows(e))}),b[0]},g["delete"]=function(){var b=!1,c=Object.keys(g.header),d=g.header[c];return g.$el.find("tbody tr").each(function(e,f){var g=a(f).attr(c.toString().toLowerCase());g==d&&(a(f).attr("delete","true"),a(f).hide("slow"),b=!0)}),b},g.sel=function(){return a("#"+g.$el.attr("id")).delegate("tbody tr","click",function(b){a(b.currentTarget).parent().children().removeClass("selected"),a(b.currentTarget).addClass("selected"),g.$el=a(b.delegateTarget),g.el=b.delegateTarget,a(b.delegateTarget).trigger("BOOTTABLE_EVENT_CLICK_ROW",[g.getSelectedItem()])}),a("#"+g.$el.attr("id")).off("keydown").on("keydown",function(b){var c=Number(a(b.delegateTarget).find("tbody tr.selected").index()),d=c+1;g.$el=a(b.delegateTarget),g.el=b.delegateTarget,b.altKey===!0&&40===b.keyCode&&(a(b.delegateTarget).find("tbody tr.selected").removeClass("selected"),0===Number(a(b.delegateTarget).find("tbody tr:nth-child("+(d+1)+")").length)?a(b.delegateTarget).find("tbody tr:nth-child(1)").addClass("selected"):a(b.delegateTarget).find("tbody tr:nth-child("+(d+1)+")").addClass("selected"),a(b.delegateTarget).trigger("BOOTTABLE_EVENT_DOWN_ROW",[g.getSelectedItem()])),b.altKey===!0&&38===b.keyCode&&(a(b.delegateTarget).find("tbody tr.selected").removeClass("selected"),0===Number(a(b.delegateTarget).find("tbody tr:nth-child("+(d-1)+")").length)?a(b.delegateTarget).find("tbody tr:nth-child(1)").addClass("selected"):a(b.delegateTarget).find("tbody tr:nth-child("+(d-1)+")").addClass("selected"),a(b.delegateTarget).trigger("BOOTTABLE_EVENT_UP_ROW",[g.getSelectedItem()])),b.altKey===!0&&13===b.keyCode&&a(b.delegateTarget).trigger("BOOTTABLE_EVENT_ENTER_ROW",[g.getSelectedItem()])}),!0},g.filter=function(){var b="";return b+='<div class="boottable-filter input-group" style="margin-bottom: 5px;" > <span class="input-group-addon glyphicon glyphicon-search glyphicon-table "></span>',b+='<input id="filter-'+g.$el.attr("id")+'" type="text" class="boottable-filter-placeholder form-control" placeholder=" " >',b+="</div>",0===a("#filter-"+g.$el.attr("id")).length&&(g.$el.find("tbody").addClass("searchable"),g.$el.parent().prepend(b),a("#filter-"+g.$el.attr("id")).keyup(function(b){var c=a(b.delegateTarget),d=c.attr("id").replace("filter-",""),e=new RegExp(a(this).val(),"i");a("#"+d+" .searchable tr").hide(),a("#"+d+" .searchable tr").filter(function(){return e.test(a(this).text())}).show()})),!0},g.fixHeadFoot=function(){function b(){f.wrap('<div class="boottable-container" />'),e=f.clone(),e.attr("id",e.attr("id")+"-fixed"),e.find("tbody").remove().end().addClass("boottable-fixed").insertBefore(f),c()}function c(){e.find("th").each(function(b){a(this).css("width",f.find("th").eq(b).outerWidth()+"px")})}function d(){var b=a(this).scrollTop(),c=f.offset().top,d=c+f.height()-f.find("thead").height();c>b||b>d?(f.find("tfoot").css("display","table-footer-group"),e.hide()):b>=c&&d>=b&&e.is(":hidden")&&(f.find("tfoot").css("display","none"),e.show())}var e=null,f=g.$el;a(window).resize(c),a(window).scroll(d),b()},g.fixHead=function(){function b(){f.wrap('<div class="boottable-container" />'),e=f.clone(),e.attr("id",e.attr("id")+"-fixed"),e.find("tbody").remove().end().find("tfoot").remove().end().addClass("boottable-fixed").insertBefore(f),c()}function c(){e.find("th").each(function(b){a(this).css("width",f.find("th").eq(b).outerWidth()+"px")})}function d(){var b=a(this).scrollTop(),c=f.offset().top,d=c+f.height()-f.find("thead").height();c>b||b>d?e.hide():b>=c&&d>=b&&e.is(":hidden")&&e.show()}var e=null,f=g.$el;a(window).resize(c),a(window).scroll(d),b()},g.initialize();var i=null;return"init"==g.options.method?i=g.init():"clr"==g.options.method||"clear"==g.options.method?(console.log("Please. Use method bootTableInit! This method 'clear' to be deprecated."),i=g.clr()):"msg"==g.options.method?(console.log("Please. Use method bootTableInit! This method 'msg' to be deprecated."),i=g.msg()):"loader"==g.options.method||"startloader"==g.options.method||"startLoader"==g.options.method?i=g.startLoader():"endloader"==g.options.method||"endLoader"==g.options.method?(console.log("This method 'endloader' to be deprecated."),i=g.endLoader()):"fixhead"==g.options.method||"fixHead"==g.options.method?i=g.fixHead():"fixheadfoot"==g.options.method||"fixHeadFoot"==g.options.method?i=g.fixHeadFoot():"edt"==g.options.method||"edit"==g.options.method?(console.log("Please. Use method bTGetItensByField or bTGetItensByColumn! This method 'edit' to be deprecated."),i=g.edit()):"del"==g.options.method||"delete"==g.options.method||"remove"==g.options.method?i=g["delete"]():"add"==g.options.method?(console.log("Please. Use method bootTableAll or bootTableJson! This method 'add' to be deprecated."),i=g.add()):"addall"==g.options.method||"addAll"==g.options.method||"all"==g.options.method?i=g.addAll():"addAllJson"==g.options.method||"allJson"==g.options.method||"json"==g.options.method?(g.header=jQuery.parseJSON(g.header),g.values=jQuery.parseJSON(g.values),i=g.addAll()):"calculateColumn"==g.options.method||"calculatecolumn"==g.options.method?i=g.calculateColumn():"calculateColumnByField"==g.options.method||"calculatecolumnbyfield"==g.options.method?i=g.calculateColumnByField():"getItensCount"==g.options.method||"getitenscount"==g.options.method?i=g.getItensCount():"hideColumn"==g.options.method||"hidecolumn"==g.options.method?i=g.hideColumn():"hideColumnByField"==g.options.method||"hidecolumnbyfield"==g.options.method?i=g.hideColumnByField():"showColumn"==g.options.method||"showcolumn"==g.options.method?i=g.showColumn():"showColumnByField"==g.options.method||"showcolumnbyfield"==g.options.method?i=g.showColumnByField():"getItensByColumn"==g.options.method||"getitensbycolumn"==g.options.method?i=g.getItensByColumn():"getItensByField"==g.options.method||"getitensbyfield"==g.options.method?i=g.getItensByField():"getItens"==g.options.method||"getitens"==g.options.method?i=g.getItens():"getSelectedItem"==g.options.method||"getselecteditem"==g.options.method?i=g.getSelectedItem():"showDetails"==g.options.method||"showdetails"==g.options.method?i=g.showDetails():"hideDetails"==g.options.method||"hidedetails"==g.options.method?i=g.hideDetails():("toggleDetails"==g.options.method||"toggledetails"==g.options.method)&&(i=g.toggleDetails()),g.options.selected===!0&&(i=g.sel()),g.options.filter===!0&&(i=g.filter()),i},a.Table.boot.defaultOptions={method:"",params:"",selected:!1,filter:!1},a.fn.bootTable=function(b,c,d){return this.each(function(){a.Table.boot(this,c,d,b)})},a.fn.getBootTable=function(){return this.data("Table.boot")},a.fn.bTInit=function(a,b){return this.bootTableInit(a,b)},a.fn.bootTableInit=function(b,c){return"undefined"==typeof b&&(b=!1),"undefined"==typeof c&&(c=!0),this.each(function(){a.Table.boot(this,null,null,null,{method:"init",filter:b,selected:c})})},a.fn.bTLoader=function(){return this.bootTableLoader()},a.fn.bootTableLoader=function(){return this.each(function(){a.Table.boot(this,null,null,null,{method:"loader"})})},a.fn.bTAddAll=function(a,b,c){return this.bootTableAddAll(a,b,c)},a.fn.bootTableAddAll=function(b,c,d){return"undefined"==typeof b?(console.log("method 'bootTableAddAll', header undefined!"),!1):"undefined"==typeof c?(console.log("method 'bootTableAddAll', values undefined!"),!1):this.each(function(){a.Table.boot(this,b,c,d,{method:"addAll"})})},a.fn.bTAddAllJson=function(a){return this.bootTableAddAllJson(a)},a.fn.bootTableAddAllJson=function(b){return"undefined"==typeof b?(console.log("method 'bootTableAddAllJson', values undefined!"),!1):this.each(function(){a.Table.boot(this,b,b,null,{method:"addAllJson"})})},a.fn.bTCalculateColumn=function(a){return this.bootTableCalculateColumn(a)},a.fn.bootTableCalculateColumn=function(b){if("undefined"==typeof b)return console.log("method 'bootTableCalculateColumn', params undefined!"),!1;var c=!1;return this.each(function(){c=a.Table.boot(this,null,null,null,{method:"calculateColumn",params:b})}),c},a.fn.bTCalculateColumnByField=function(a){return this.bootTableCalculateColumnByField(a)},a.fn.bootTableCalculateColumnByField=function(b){if("undefined"==typeof b)return console.log("method 'bootTableCalculateColumnByField', params undefined!"),!1;var c=!1;return this.each(function(){c=a.Table.boot(this,null,null,null,{method:"calculateColumnByField",params:b})}),c},a.fn.bTGetSelectedItem=function(){return this.bootTableGetSelectedItem()},a.fn.bootTableGetSelectedItem=function(){var b=!1;return this.each(function(){b=a.Table.boot(this,null,null,null,{method:"getSelectedItem"})}),b},a.fn.getSelectedItem=function(){console.log("Please. Use method bootTableGetSelectedItem! This method 'getSelectedItem' to be deprecated.");var b=!1;return this.each(function(){b=a.Table.boot(this,null,null,null,{method:"getSelectedItem"})}),b},a.fn.bTGetItens=function(){return this.bootTableGetItens()},a.fn.bootTableGetItens=function(){var b=!1;return this.each(function(){b=a.Table.boot(this,null,null,null,{method:"getItens"})}),b},a.fn.getItens=function(){console.log("Please. Use method bootTableGetItens! This method 'getItens' to be deprecated.");var b=!1;return this.each(function(){b=a.Table.boot(this,null,null,null,{method:"getItens"})}),b},a.fn.bTGetItensByColumn=function(a){return this.bootTableGetItensByColumn(a)},a.fn.bootTableGetItensByColumn=function(b){if("undefined"==typeof b)return console.log("method 'bootTableGetItensByColumn', params undefined!"),!1;var c=!1;return this.each(function(){c=a.Table.boot(this,null,null,null,{method:"getItensByColumn",params:b})}),c},a.fn.bTGetItensByField=function(a){return this.bootTableGetItensByField(a)},a.fn.bootTableGetItensByField=function(b){if("undefined"==typeof b)return console.log("method 'bootTableGetItensByField', params undefined!"),!1;var c=!1;return this.each(function(){c=a.Table.boot(this,null,null,null,{method:"getItensByField",params:b})}),c},a.fn.bTGetItensCount=function(a){return this.bootTableGetItensCount(a)},a.fn.bootTableGetItensCount=function(b){"undefined"==typeof b&&(b=0);var c=!1;return this.each(function(){c=a.Table.boot(this,null,null,null,{method:"getItensCount",params:b})}),c},a.fn.bTHideColumn=function(a){return this.bootTableHideColumn(a)},a.fn.bootTableHideColumn=function(b){return"undefined"==typeof b?(console.log("method 'bootTableHideColumn', params undefined!"),!1):this.each(function(){a.Table.boot(this,null,null,null,{method:"hideColumn",params:b})})},a.fn.bTHideColumnByField=function(a){return this.bootTableHideColumnByField(a)},a.fn.bootTableHideColumnByField=function(b){return"undefined"==typeof b?(console.log("method 'bootTableHideColumnByField', params undefined!"),!1):this.each(function(){a.Table.boot(this,null,null,null,{method:"hideColumnByField",params:b})})},a.fn.bTShowColumn=function(a){return this.bootTableShowColumn(a)},a.fn.bootTableShowColumn=function(b){return"undefined"==typeof b?(console.log("method 'bootTableShowColumn', params undefined!"),!1):this.each(function(){a.Table.boot(this,null,null,null,{method:"showColumn",params:b})})},a.fn.bTShowColumnByField=function(a){return this.bootTableShowColumnByField(a)},a.fn.bootTableShowColumnByField=function(b){return"undefined"==typeof b?(console.log("method 'bootTableShowColumnByField', params undefined!"),!1):this.each(function(){a.Table.boot(this,null,null,null,{method:"showColumnByField",params:b})})},a.fn.bTFixHead=function(){return this.bootTableFixHead()},a.fn.bootTableFixHead=function(){return this.each(function(){a.Table.boot(this,null,null,null,{method:"fixhead"})})},a.fn.bTFixHeadFoot=function(){return this.bootTableFixHeadFoot()},a.fn.bootTableFixHeadFoot=function(){return this.each(function(){a.Table.boot(this,null,null,null,{method:"fixheadfoot"})})},a.fn.bTShowDetails=function(a){return this.bootTableShowDetails(a)},a.fn.bootTableShowDetails=function(b){return"undefined"==typeof b&&(b=""),this.each(function(){a.Table.boot(this,null,null,null,{method:"showDetails",params:b})})},a.fn.bTHideDetails=function(a){return this.bootTableHideDetails(a)},a.fn.bootTableHideDetails=function(b){return"undefined"==typeof b&&(b=""),this.each(function(){a.Table.boot(this,null,null,null,{method:"hideDetails",params:b})})},a.fn.bTToggleDetails=function(a){return this.bootTableToggleDetails(a)},a.fn.bootTableToggleDetails=function(b){return"undefined"==typeof b&&(b=""),this.each(function(){a.Table.boot(this,null,null,null,{method:"toggleDetails",params:b})})}}(jQuery);